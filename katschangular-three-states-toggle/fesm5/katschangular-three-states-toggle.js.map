{"version":3,"file":"katschangular-three-states-toggle.js","sources":["ng://katschangular-three-states-toggle/lib/katschangular-three-states-toggle.component.ts","ng://katschangular-three-states-toggle/lib/katschangular-three-states-toggle.module.ts"],"sourcesContent":["import {\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport { ThemePalette } from '@angular/material/core/typings/common-behaviors/color';\n\n@Component({\n  selector: 'katschangular-three-states-toggle',\n  templateUrl: 'katschangular-three-states-toggle.component.html',\n  styleUrls: ['katschangular-three-states-toggle.component.scss'],\n})\nexport class KatschangularThreeStatesToggleComponent implements OnInit, OnChanges {\n\n  @ViewChild('triToggleSlider', { static: true }) matSliderRef: ElementRef;\n\n  /* value */\n  @Input() value: boolean;\n  @Output() valueChange: EventEmitter<boolean> = new EventEmitter<boolean>();\n\n  /* Wether the input is disabled */\n  @Input() disabled: boolean;\n\n  /* Material color of the input*/\n  @Input() color: ThemePalette;\n\n  /* Optional label of the input */\n  @Input() label: string;\n\n  intValue: number;\n  previousValue: boolean;\n  toggleClass: string;\n\n\n  constructor() {\n  }\n\n\n  ngOnInit() {\n    this.setIntValues();\n    this.setToggleClass();\n  }\n\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.setIntValues();\n    this.setToggleClass();\n  }\n\n\n  toggleValue(intValue: number) {\n    this.intValue = intValue;\n\n    if (this.intValue === 0) {\n      this.value = false;\n    } else if (this.intValue === 50) {\n      this.value = null;\n    } else {\n      this.value = true;\n    }\n\n    this.setToggleClass();\n    this.previousValue = this.intValue !== 50 ? this.intValue === 100 : this.previousValue;\n    this.valueChange.emit(this.value);\n  }\n\n\n  toggle() {\n    if (this.disabled) {\n      return;\n    }\n\n    if (this.value === true || this.value === false) {\n      this.value = null;\n    } else {\n      if (this.previousValue === false) {\n        this.value = true;\n      } else if (this.previousValue === true) {\n        this.value = false;\n      } else {\n        this.value = true;\n      }\n    }\n    this.setIntValues();\n    this.setToggleClass();\n    this.valueChange.emit(this.value);\n  }\n\n\n  private setIntValues() {\n    if (this.value === true) {\n      this.intValue = 100;\n    } else if (this.value === false) {\n      this.intValue = 0;\n    } else {\n      this.intValue = 50;\n    }\n\n    this.previousValue = this.intValue !== 50 ? this.intValue === 100 : this.previousValue;\n  }\n\n\n  private setToggleClass() {\n    if (this.disabled) {\n      this.toggleClass = 'state-disabled';\n\n      return;\n    }\n\n    if (this.value === true) {\n      this.toggleClass = 'state-true';\n    } else if (this.value === false) {\n      this.toggleClass = 'state-false';\n    } else {\n      this.toggleClass = 'state-none';\n    }\n  }\n\n\n}\n","import { NgModule } from '@angular/core';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule } from '@angular/forms';\n\nimport { CommonModule } from '@angular/common';\nimport { KatschangularThreeStatesToggleComponent } from './katschangular-three-states-toggle.component';\n\n\n@NgModule({\n  declarations: [\n    KatschangularThreeStatesToggleComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    MatSliderModule\n  ],\n  exports: [\n    KatschangularThreeStatesToggleComponent\n  ]\n})\nexport class KatschangularThreeStatesToggleModule { }\n"],"names":[],"mappings":"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"}